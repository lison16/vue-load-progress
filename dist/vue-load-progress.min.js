!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("vue")):"function"==typeof define&&define.amd?define(["vue"],e):t.vueTopProgress=e(t.Vue)}(this,function(t){"use strict";function e(t,e,s){return t<e?e:t>s?s:t}t=t&&t.hasOwnProperty("default")?t.default:t;var s=function(){var t=[];function e(){var s=t.shift();s&&s(e)}return function(s){t.push(s),1===t.length&&e()}}(),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("transition",{attrs:{css:!1},on:{"before-enter":this.beforeEnter,enter:this.enter,"after-enter":this.afterEnter}},[this.show?e("div",{staticClass:"v-load-progress",style:this.barStyle},[e("div",{staticClass:"peg",style:this.pegStyle})]):this._e()])},staticRenderFns:[],name:"VueLoadProgress",data:function(){return{error:!1,show:!1,progress:0,opacity:1,status:null,isPaused:!1}},props:{speed:{type:Number,default:350},color:{type:String,default:"#29d"},colorShadow:String,errorColor:{type:String,default:"#f44336"},trickle:{type:Boolean,default:!0},trickleSpeed:{type:Number,default:250},easing:{type:String,default:"linear"},height:{type:Number,default:3},minimum:{type:Number,default:.8},maximum:{type:Number,default:97.5},zIndex:{type:Number,default:9999}},computed:{progressColor:function(){return this.error?this.errorColor:this.color},isStarted:function(){return"number"==typeof this.status},boxShadow:function(){return this.colorShadow||this.progressColor},barStyle:function(){return{position:"fixed",top:"0",left:"0",right:"0",width:this.progress+"%",height:this.height+"px",backgroundColor:this.progressColor,transition:"all "+this.speed+"ms "+this.easing,opacity:""+this.opacity,zIndex:""+this.zIndex}},pegStyle:function(){return{display:"block",position:"absolute",right:"0",width:"100px",height:"100%",opacity:this.progress?"1":"0",boxShadow:"0 0 10px "+this.boxShadow+", 0 0 5px "+this.boxShadow,transform:"rotate(3deg) translate(0px, -4px)"}}},methods:{beforeEnter:function(t){this.opacity=0,this.progress=0,this.width=0},enter:function(t,e){this.opacity=1,e()},afterEnter:function(t){this._runStart()},_work:function(){var t=this;setTimeout(function(){t.isStarted&&!t.isPaused&&(t.increase(),t._work())},this.trickleSpeed)},_runStart:function(){this.status=100===this.progress?null:this.progress,this.trickle&&this._work()},start:function(){this.isPaused=!1,this.show?this._runStart():this.show=!0},set:function(t){var r,i=this;this.isPaused=!1,r=this.isStarted?t<this.progress?e(t,0,100):e(t,this.minimum,100):0,this.status=100===r?null:r,s(function(t){i.progress=r,100===r?setTimeout(function(){i.opacity=0,setTimeout(function(){i.show=!1,i.error=!1,t()},i.speed)},i.speed):setTimeout(t,i.speed)})},increase:function(t){var s=this.progress;s<100&&"number"!=typeof t&&(t=s>=0&&s<25?3*Math.random()+3:s>=25&&s<50?3*Math.random():s>=50&&s<85?2*Math.random():s>=85&&s<99?.5:0),this.set(e(s+t,0,this.maximum))},decrease:function(t){0!==this.progress&&this.increase(-t)},done:function(){this.set(100)},getProgress:function(){return this.status?this.progress:0},pause:function(){this.isPaused=!0},fail:function(){this.error=!0,this.done()}}},i=function t(e,s){if(void 0===s&&(s={}),!t.installed){var i,o=e.extend(r),n=(i=(new o).$mount(),document.body.appendChild(i.$el),i);return e.prototype.$loading=n,e.component(r.name,r),n}};"undefined"!=typeof window&&window.Vue&&i(window.Vue);var o=i(t);return Object.assign(o,{VueLoadProgress:r,install:i})});
